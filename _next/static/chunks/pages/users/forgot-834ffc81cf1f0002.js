(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1643],{2174:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/users/forgot",function(){return t(6496)}])},8998:function(e,r,t){"use strict";t(5893),t(1294)},6496:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return m}});var n=t(5893);t(8998);var o=t(2347),i=t.n(o);t(2013),t(1963);var s=t(1794);t(1955);var l=t(9008),a=t.n(l),_=t(1664),c=t.n(_),u=t(1163),g=t(5342),f=t(4420),p=t(7294);function m(){let e=(0,u.useRouter)(),r=(0,p.useRef)(null),[t,o]=(0,p.useState)(""),l=(0,p.useRef)(null),[a,_]=(0,p.useState)(null),m=async r=>{r.preventDefault();let n=!0;""!=t.trim()&&(0,s.s)(t)||(l.current.className=i().form_input_erreur,_("Email required"),n=!1),n&&e.push("/users/forgot/newPassword")};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:i().container,children:[(0,n.jsx)("div",{className:i().login_left,children:(0,n.jsx)(c(),{href:"/users",children:(0,n.jsx)(g.E,{src:"/images/logo-aftrip.png",alt:"logo",style:{width:"250px"}})})}),(0,n.jsxs)("div",{className:i().login_right,children:[(0,n.jsxs)("div",{className:i().login_title_container,children:[(0,n.jsx)("span",{className:i().login_title,children:"Forgot password ?"}),(0,n.jsx)("span",{className:i().login_title_label,children:"No worries, weâ€™ll send you reset instructions."})]}),(0,n.jsxs)("div",{className:i().content,children:[(0,n.jsxs)("form",{onSubmit:m,className:i().form,children:[(0,n.jsxs)("div",{className:i().form_group,children:[(0,n.jsxs)("div",{className:i().form_group_input,children:[(0,n.jsx)("span",{className:i().form_label,children:"Email"}),(0,n.jsx)("input",{ref:l,type:"email",autoFocus:!0,className:i().form_input,placeholder:"Enter your email",value:t,onChange:e=>{l.current.className=i().form_input,o(e.target.value),_(null)}}),(0,n.jsx)(g.E,{style:null!=a?{display:"block"}:{display:"none"},className:i().form_erreur_image,src:"/images/auth/alert_circle.svg",alt:"!"})]}),(0,n.jsx)("span",{style:null!=a?{display:"block"}:{display:"none"},className:i().form_erreur,children:a})]}),(0,n.jsx)("div",{className:i().button_group,children:(0,n.jsx)("button",{type:"submit",className:i().login_button,children:"Confirm"})})]}),(0,n.jsx)("div",{className:i().register_component,children:(0,n.jsxs)(c(),{className:i().register_link,href:"/users/login",children:[(0,n.jsx)("i",{className:"pi pi-angle-left"})," Back to Login"]})})]})]}),(0,n.jsxs)("div",{className:i().footer,children:[(0,n.jsx)("span",{children:"Copyright 2024 - All rights reserved"}),(0,n.jsx)(c(),{style:{color:"#000"},href:"/users/privatePolicy",children:"Pivate policy"})]})]}),(0,n.jsx)(f.F,{ref:r})]})}m.getLayout=function(e){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a(),{children:(0,n.jsx)("title",{children:"Forgot"})}),e]})}},2013:function(e,r,t){"use strict";t.d(r,{F:function(){return n}});let n={apiBaseUrl:"http://192.168.88.37:8000",adminUrl:"/admin"}},1963:function(e,r,t){"use strict";t.d(r,{Vt:function(){return s},vT:function(){return i}});var n=t(1955),o=t(2013);let i=async(e,r)=>{let t="".concat(o.F.apiBaseUrl,"/api/token/"),i=await s();try{let o=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":i},body:JSON.stringify({username:e,password:r})});if(!o.ok)throw Error("HTTP error! Status: ".concat(o.status));let s=await o.json();return console.log(s),s.access&&n.Z.set("access_token",s.access,{expires:7,secure:!0,sameSite:"strict"}),s.refresh&&n.Z.set("refresh_token",s.refresh,{expires:30,secure:!0,sameSite:"strict"}),s}catch(e){throw console.error("Error fetching data:",e),e}},s=async()=>{try{let e=await fetch("".concat(o.F.apiBaseUrl,"/api/get-csrf-token-direct/"),{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Failed to get CSRF token");return(await e.json()).csrfToken}catch(e){throw console.error("Error fetching CSRF token:",e.message),e}}},1794:function(e,r,t){"use strict";t.d(r,{s:function(){return n}});let n=e=>/^[\w\.-]+@[a-zA-Z\d\.-]+\.[a-zA-Z]{2,}$/.test(e)},1294:function(e){e.exports={button_container:"GoogleButton_button_container___kqrN",image_google:"GoogleButton_image_google__SNlbI"}},2347:function(e){e.exports={container:"login_container__QxMsj",footer:"login_footer__7U2NE",separateur_container:"login_separateur_container__YG2w4",separateur:"login_separateur__rTk29",login_left:"login_login_left__u8XC8",login_right:"login_login_right__AykJp",login_title:"login_login_title__GuFSk",login_title_container:"login_login_title_container__qjuVs",login_title_label:"login_login_title_label__Eh0y7",logo:"login_logo__1jLz5",content:"login_content__QBi7I",form:"login_form__Y_Qx_",form_group:"login_form_group__MnWGC",form_group_input:"login_form_group_input__fp4La",form_label:"login_form_label__e4Jy5",form_input:"login_form_input__HLtl0",form_input_password_container:"login_form_input_password_container__VRloI",form_input_password:"login_form_input_password__ufy9s",form_erreur_image:"login_form_erreur_image__6v8T_",form_erreur:"login_form_erreur__hoZt_",form_input_erreur:"login_form_input_erreur__i35mE",link_forgot_container:"login_link_forgot_container__FK0Wl",link_forgot:"login_link_forgot__41zly",button_group:"login_button_group__qOnVS",login_button:"login_login_button__trQin",resend_button:"login_resend_button__bYjEk",timer:"login_timer__Br_81",register_component:"login_register_component__X94J0",register_link:"login_register_link__sK644"}},9513:function(e,r,t){"use strict";t.d(r,{n:function(){return s}});var n=t(7294),o=t(4320);function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}var s=n.memo(n.forwardRef(function(e,r){var t=o.A.getPTI(e);return n.createElement("svg",i({ref:r,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),n.createElement("path",{d:"M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z",fill:"currentColor"}))}));s.displayName="CheckIcon"},1955:function(e,r,t){"use strict";/*! js-cookie v3.0.5 | MIT */function n(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)e[n]=t[n]}return e}t.d(r,{Z:function(){return o}});var o=function e(r,t){function o(e,o,i){if("undefined"!=typeof document){"number"==typeof(i=n({},t,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var l in i)i[l]&&(s+="; "+l,!0!==i[l]&&(s+="="+i[l].split(";")[0]));return document.cookie=e+"="+r.write(o,e)+s}}return Object.create({set:o,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var t=document.cookie?document.cookie.split("; "):[],n={},o=0;o<t.length;o++){var i=t[o].split("="),s=i.slice(1).join("=");try{var l=decodeURIComponent(i[0]);if(n[l]=r.read(s,l),e===l)break}catch(e){}}return e?n[e]:n}},remove:function(e,r){o(e,"",n({},r,{expires:-1}))},withAttributes:function(r){return e(this.converter,n({},this.attributes,r))},withConverter:function(r){return e(n({},this.converter,r),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(r)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}},function(e){e.O(0,[5342,4420,2888,9774,179],function(){return e(e.s=2174)}),_N_E=e.O()}]);